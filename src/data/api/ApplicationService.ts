import { add, sub } from "date-fns";
import { Application } from "../../models/Application";
import { Report } from "../../models/interfaces";
import { Checklist } from "../../models/loan.models";
import { Task, TaskStatus, TaskType } from "../../models/task.model";
import { newGuid } from "../../utils/uuid";

export default class ApplicationService {
  applications: Application[] = [
    {
      creditArrangementId: "CA01",
      brokerInfo: {
        brokerName: "Bro Ker",
        brokerEmail: "bro.ker@angle.com.au",
        brokerMobile: "0412345678",
        bdmNames: ["Klein Moretti"],
      },
      applicant: {
        abn: "01234567890",
        entityName: "Le Fake Bakery",
        entityType: "Public Company",
        guarantors: ["Grant Thor", "Sol de Pain - Co Support"],
      },
      arrangement: {
        financeAmount: 10000.0,
        repaymentAmount: 203.72,
        repaymentFrequency: "Monthly",
        interestRate: 8.5,
        termInYears: 5,
        repaymentTiming: "In Advance",
        totalObligorExposure: 124442.76,
      },
      asset: {
        type: "Motor vehicle (up to 4.5t)",
        class: "Primary",
        make: "Toyota",
        model: "Hilux",
        year: 2020,
      },
      strategy: {
        decision: "Approve",
        riskLevel: "Low Risk",
        assessmentType: "Low Doc",
        customerStrategy: "A+",
        program: "Partner",
        riskScore: 85,
      },
      progress: {
        stages: [
          "Submitted",
          "Assessing",
          "Pending",
          "Decisioned",
          "Settlement",
        ],
        currentStatus: "Submitted",
      },
      availableActions: ["READY FOR SETTLEMENT", "DECLINE"],
    },
    {
      creditArrangementId: "CA02",
      brokerInfo: {
        brokerName: "Bro Ker II",
        brokerEmail: "bro.ker@angle.com.au",
        brokerMobile: "0412345678",
        bdmNames: ["Klein Moretti"],
      },
      applicant: {
        abn: "01234567890",
        entityName: "TWO BIRDS ONE STONE",
        entityType: "Private Company",
        guarantors: ["Ben Guta", "Sol de Pain - Co Support"],
      },
      arrangement: {
        financeAmount: 10000.0,
        repaymentAmount: 203.72,
        repaymentFrequency: "Monthly",
        interestRate: 8.5,
        termInYears: 5,
        repaymentTiming: "In Advance",
        totalObligorExposure: 124442.76,
      },
      asset: {
        type: "Motor vehicle (up to 4.5t)",
        class: "Primary",
        make: "Toyota",
        model: "Hilux",
        year: 2020,
      },
      strategy: {
        decision: "Review",
        riskLevel: "Medium Risk",
        assessmentType: "Full Doc",
        customerStrategy: "Standard",
        program: "Standard",
        riskScore: 85,
      },
      progress: {
        stages: [
          "Submitted",
          "Assessing",
          "Pending",
          "Decisioned",
          "Settlement",
        ],
        currentStatus: "Submitted",
      },
      availableActions: ["READY FOR SETTLEMENT", "DECLINE"],
    },
  ];

  checklists = [
    {
      id: "CA01",
      checklists: [
        {
          checkpoint: "Applicant - AML/KYC",
          outcome: "PASS",
          section: "mandatory",
          criteriaList: [
            {
              key: "File",
              text: "Equifax File No",
              value: "194578932",
              result: "",
              section: "equifax",
              isOverridden: false,
            },
            {
              key: "KYC",
              text: "KYC Result",
              value: "Pass",
              result: "PASS",
              section: "equifax",
              isOverridden: false,
            },
            {
              key: "CreditShopped",
              text: "Credit Shopped",
              value: "2+",
              valueType: "dropdown",
              result: "PASS",
              section: "",
              isOverridden: false,
            },
            {
              key: "DVS",
              text: "DVS pass",
              value: "Pass",
              result: "PASS",
              section: "equifax",
              isOverridden: false,
            },
            {
              key: "Bio",
              text: "BioID PhotoVerify File No",
              value: "A212134",
              result: "",
              section: "biometrics",
              isOverridden: false,
            },
            {
              key: "ID",
              text: "ID Ownership",
              value: "Pass",
              result: "PASS",
              section: "biometrics",
              isOverridden: false,
            },
          ],
        },
        {
          checkpoint: "Fraud Assessment",
          outcome: "PASS",
          section: "mandatory",
          criteriaList: [
            {
              key: "FraudCheck",
              text: "Fraud Check",
              value: "Pass",
              result: "PASS",
              isOverridden: false,
            },
            {
              key: "PEP",
              text: "Politically Exposed Person",
              value: "Pass",
              result: "PASS",
              isOverridden: false,
            },
            {
              key: "Sanctions",
              text: "Sanctions",
              value: "Pass",
              result: "PASS",
              isOverridden: false,
            },
            {
              key: "Velocity",
              text: "Velocity",
              value: "Pass",
              result: "PASS",
              isOverridden: false,
            },
          ],
        },
        {
          checkpoint: "Credit Score",
          outcome: "PASS",
          section: "mandatory",
          criteriaList: [
            {
              key: "av1",
              text: "Legal Name",
              value: "555",
              result: "PASS",
              section: "applicant",
              isOverridden: false,
            },
            {
              key: "av2",
              text: "Veda Score",
              value: "650",
              result: "PASS",
              section: "applicant",
              isOverridden: false,
            },
            {
              key: "cwScore",
              text: "CreditorWatch score",
              value: "",
              result: "",
              section: "",
              isOverridden: false,
            },
            {
              key: "cwRating",
              text: "CreditorWatch rating",
              value: "",
              result: "",
              section: "",
              isOverridden: false,
            },
            {
              key: "1",
              text: "Score",
              value: "555",
              result: "PASS",
              section: "guarantor-1",
              isOverridden: false,
            },
            {
              key: "3",
              text: "Number of unpaid or unsettled judgements in the last 60 months",
              value: "0",
              result: "PASS",
              section: "guarantor-1",
              isOverridden: false,
            },
            {
              key: "4",
              text: "Number of insolvencies on file",
              value: "0",
              result: "PASS",
              section: "guarantor-1",
              isOverridden: false,
            },
            {
              key: "5",
              text: "Number of consumer defaults/SCI in the last 12 months",
              value: "0",
              result: "PASS",
              section: "guarantor-1",
              isOverridden: false,
            },
            {
              key: "6",
              text: "Age of file",
              value: "5 years",
              result: "PASS",
              section: "guarantor-1",
              isOverridden: false,
            },
            {
              key: "2",
              text: "Total count of consumer and commercial enquiries in less than 12 months",
              value: "2",
              result: "PASS",
              section: "guarantor-1",
              isOverridden: false,
            },
          ],
        },

        {
          checkpoint: "Applicant",
          outcome: "PASS",
          section: "goals",
          criteriaList: [
            {
              key: "AssetBacked",
              text: "Property Backed",
              value: "Yes",
              result: "PASS",
              section: "property",
              isOverridden: false,
            },

            {
              key: "g1",
              text: "GST Registration",
              value: "Registered from 01 Jul 2024",
              result: "PASS",
              section: "gst",
              isOverridden: false,
            },
            {
              key: "g2",
              text: "GST Registration Length",
              value: "1 Year",
              result: "FAIL",
              section: "gst",
              isOverridden: true,
            },
            {
              key: "g3",
              text: "Is ATO Portal Satisfactory?",
              value: "No",
              result: "FAIL",
              section: "gst",
              isOverridden: true,
            },

            {
              key: "a1",
              text: "ABN",
              value: "42600819010",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a2",
              text: "Status",
              value: "Active from 01 Jul 2024",
              result: "PASS",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a3",
              text: "ABN Registration Length",
              value: "1 year",
              result: "FAIL",
              section: "abn",
              isOverridden: true,
            },
            {
              key: "a4",
              text: "Entity name",
              value: "BEN's BAKERY",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a5",
              text: "Entity type",
              value: "Public Company",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a6",
              text: "Main Business Location",
              value: "NSW 2000",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a7",
              text: "Is ASIC Extracted Date Present?",
              value: "Yes",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a8",
              text: "ASIC Extracted Date",
              value: "22 Jan 2023",
              valueType: "date",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a9",
              text: "ASIC Extracted Date",
              value: "22 Jan 2023",
              valueType: "date",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "SkilledTrade",
              text: "Skilled Trade",
              value: "No",
              valueType: "dropdown",
              result: "FAIL",
              section: "",
              isOverridden: true,
            },
            {
              key: "p1",
              text: "ABN",
              value: "42600819010",
              result: "",
              section: "previous",
              isOverridden: false,
            },
            {
              key: "2",
              text: "Status",
              value: "Cancelled from 01 Jul 2003",
              result: "",
              section: "previous",
              isOverridden: true,
            },
            {
              key: "p3",
              text: "ABN Registration Length",
              value: "24 years",
              result: "",
              section: "previous",
              isOverridden: false,
            },
          ],
        },
        {
          checkpoint: "Asset Qualification",
          outcome: "PASS",
          section: "goals",
          criteriaList: [
            {
              key: "AssetType",
              text: "Asset type",
              value: "Motor Vehicle (up to 4.5t)",
              result: "PASS",
              isOverridden: false,
            },
            {
              key: "AssetClass",
              text: "Asset class",
              value: "Primary",
              result: "",
              isOverridden: false,
            },
            {
              key: "AssetAligned",
              text: "Asset Aligned to Business Activity",
              value: "No",
              result: "FAIL",
              isOverridden: true,
            },
            {
              key: "TAV",
              text: "Total Value",
              value: "20000",
              valueType: "currency",
              result: "",
              isOverridden: true,
            },
          ],
        },
        {
          checkpoint: "Arrangement Check",
          outcome: "PASS",
          section: "goals",
          criteriaList: [
            {
              key: "l1",
              text: "Assessment Type",
              value: "Low Doc",
              result: "",
              section: "loan",
              isOverridden: false,
            },
            {
              key: "l2",
              text: "Customer Strategy",
              value: "Standard",
              result: "",
              section: "loan",
              isOverridden: false,
            },
            {
              key: "l3",
              text: "Is Private Sale?",
              value: "Yes",
              result: "",
              section: "loan",
              isOverridden: false,
            },
            {
              key: "l4",
              text: "Deposit amount",
              value: "2000",
              valueType: "currency",
              result: "",
              section: "exposure",
              isOverridden: false,
            },
            {
              key: "depositRequired",
              text: "Deposit to reduce to low doc",
              value: "Yes",
              valueType: "dropdown",
              result: "PASS",
              section: "exposure",
              isOverridden: false,
            },
            {
              key: "l5",
              text: "Total financed amount",
              value: "20000",
              valueType: "currency",
              result: "",
              section: "exposure",
              isOverridden: false,
            },
            {
              key: "l6",
              text: "Current obligor exposure",
              value: "1250",
              valueType: "currency",
              result: "",
              section: "exposure",
              isOverridden: false,
            },
            {
              key: "l7",
              text: "Total obligor exposure",
              value: "20250",
              valueType: "currency",
              result: "FAIL",
              section: "exposure",
              isOverridden: true,
            },

            {
              key: "s1",
              text: "Number of adults in household",
              value: "2",
              valueType: "",
              result: "",
              section: "serviceability",
              isOverridden: false,
            },
            {
              key: "s2",
              text: "Number of dependents",
              value: "2",
              valueType: "",
              result: "",
              section: "serviceability",
              isOverridden: false,
            },
            {
              key: "s3",
              text: "Expected weekly repayment",
              value: "689",
              valueType: "currency",
              result: "",
              section: "serviceability",
              isOverridden: false,
            },
            {
              key: "s4",
              text: "Expected weekly income from work letter",
              value: "56557",
              valueType: "currency",
              result: "",
              section: "serviceability",
              isOverridden: false,
            },
            {
              key: "s5",
              text: "BrokerFlow document ID",
              value: "A312314",
              valueType: "",
              result: "",
              section: "serviceability",
              isOverridden: false,
            },
            {
              key: "existingCustomerPerf",
              text: "Existing customer performance",
              value: "No history",
              valueType: "dropdown",
              result: "PASS",
              section: "serviceability",
              isOverridden: false,
            },

            {
              key: "LVR",
              text: "Loan to Value Ratio",
              value: "73.67%",
              result: "PASS",
              section: "lvr",
              isOverridden: false,
            },

            {
              key: "DSCR",
              text: "DSCR",
              value: "20.02",
              valueType: "decimal",
              result: "PASS",
              section: "dscr",
              isOverridden: false,
            },
          ],
        },
      ] as Checklist[],
    },
    {
      id: "CA02",
      checklists: [
        {
          checkpoint: "Applicant - AML/KYC",
          outcome: "FAIL",
          section: "mandatory",
          criteriaList: [
            {
              key: "File",
              text: "Equifax File No",
              value: "194578932",
              result: "",
              section: "equifax",
              isOverridden: false,
            },
            {
              key: "KYC",
              text: "KYC Result",
              value: "Pass",
              result: "PASS",
              section: "equifax",
              isOverridden: false,
            },
            {
              key: "CreditShopped",
              text: "Credit Shopped",
              value: "2+",
              valueType: "dropdown",
              result: "FAIL",
              section: "",
              isOverridden: false,
            },
            {
              key: "DVS",
              text: "DVS pass",
              value: "Fail",
              result: "FAIL",
              section: "equifax",
              isOverridden: false,
            },
            {
              key: "Bio",
              text: "BioID PhotoVerify File No",
              value: "A212134",
              result: "",
              section: "biometrics",
              isOverridden: false,
            },
            {
              key: "ID",
              text: "ID Ownership",
              value: "Fail",
              result: "FAIL",
              section: "biometrics",
              isOverridden: false,
            },
          ],
        },
        {
          checkpoint: "Fraud Assessment",
          outcome: "FAIL",
          section: "mandatory",
          criteriaList: [
            {
              key: "FraudCheck",
              text: "Fraud Check",
              value: "Pass",
              result: "PASS",
              isOverridden: false,
            },
            {
              key: "PEP",
              text: "Politically Exposed Person",
              value: "Pass",
              result: "PASS",
              isOverridden: false,
            },
            {
              key: "Sanctions",
              text: "Sanctions",
              value: "Pass",
              result: "PASS",
              isOverridden: false,
            },
            {
              key: "Velocity",
              text: "Velocity",
              value: "Fail",
              result: "FAIL",
              isOverridden: false,
            },
          ],
        },
        {
          checkpoint: "Credit Score",
          outcome: "PASS",
          section: "mandatory",
          criteriaList: [
            {
              key: "av1",
              text: "Legal Name",
              value: "555",
              result: "PASS",
              section: "applicant",
              isOverridden: false,
            },
            {
              key: "av2",
              text: "Veda Score",
              value: "650",
              result: "PASS",
              section: "applicant",
              isOverridden: false,
            },
            {
              key: "cwScore",
              text: "CreditorWatch score",
              value: "",
              result: "",
              section: "",
              isOverridden: false,
            },
            {
              key: "cwRating",
              text: "CreditorWatch rating",
              value: "",
              result: "",
              section: "",
              isOverridden: false,
            },
            {
              key: "1",
              text: "Score",
              value: "555",
              result: "PASS",
              section: "guarantor-1",
              isOverridden: false,
            },
            {
              key: "3",
              text: "Number of unpaid or unsettled judgements in the last 60 months",
              value: "0",
              result: "PASS",
              section: "guarantor-1",
              isOverridden: false,
            },
            {
              key: "4",
              text: "Number of insolvencies on file",
              value: "0",
              result: "PASS",
              section: "guarantor-1",
              isOverridden: false,
            },
            {
              key: "5",
              text: "Number of consumer defaults/SCI in the last 12 months",
              value: "0",
              result: "PASS",
              section: "guarantor-1",
              isOverridden: false,
            },
            {
              key: "6",
              text: "Age of file",
              value: "5 years",
              result: "PASS",
              section: "guarantor-1",
              isOverridden: false,
            },
            {
              key: "2",
              text: "Total count of consumer and commercial enquiries in less than 12 months",
              value: "2",
              result: "PASS",
              section: "guarantor-1",
              isOverridden: false,
            },
          ],
        },

        {
          checkpoint: "Applicant",
          outcome: "FAIL",
          section: "goals",
          criteriaList: [
            {
              key: "AssetBacked",
              text: "Property Backed",
              value: "No",
              result: "FAIL",
              section: "property",
              isOverridden: false,
            },

            {
              key: "g1",
              text: "GST Registration",
              value: "Registered from 01 Jul 2024",
              result: "PASS",
              section: "gst",
              isOverridden: false,
            },
            {
              key: "g2",
              text: "GST Registration Length",
              value: "1 Year",
              result: "FAIL",
              section: "gst",
              isOverridden: false,
            },
            {
              key: "g3",
              text: "Is ATO Portal Satisfactory?",
              value: "No",
              result: "FAIL",
              section: "gst",
              isOverridden: false,
            },

            {
              key: "a1",
              text: "ABN",
              value: "42600819010",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a2",
              text: "Status",
              value: "Active from 01 Jul 2024",
              result: "PASS",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a3",
              text: "ABN Registration Length",
              value: "1 year",
              result: "FAIL",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a4",
              text: "Entity name",
              value: "BEN's BAKERY",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a5",
              text: "Entity type",
              value: "Public Company",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a6",
              text: "Main Business Location",
              value: "NSW 2000",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a7",
              text: "Is ASIC Extracted Date Present?",
              value: "Yes",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a8",
              text: "ASIC Extracted Date",
              value: "22 Jan 2023",
              valueType: "date",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "a9",
              text: "ASIC Extracted Date",
              value: "22 Jan 2023",
              valueType: "date",
              result: "",
              section: "abn",
              isOverridden: false,
            },
            {
              key: "SkilledTrade",
              text: "Skilled Trade",
              value: "No",
              valueType: "dropdown",
              result: "FAIL",
              section: "",
              isOverridden: false,
            },
            {
              key: "p1",
              text: "ABN",
              value: "42600819010",
              result: "",
              section: "previous",
              isOverridden: false,
            },
            {
              key: "p2",
              text: "Status",
              value: "Cancelled from 01 Jul 2003",
              result: "",
              section: "previous",
              isOverridden: false,
            },
            {
              key: "p3",
              text: "ABN Registration Length",
              value: "24 years",
              result: "",
              section: "previous",
              isOverridden: false,
            },
          ],
        },
        {
          checkpoint: "Asset Qualification",
          outcome: "FAIL",
          section: "goals",
          criteriaList: [
            {
              key: "AssetType",
              text: "Asset type",
              value: "Motor Vehicle (up to 4.5t)",
              result: "PASS",
              isOverridden: false,
            },
            {
              key: "AssetClass",
              text: "Asset class",
              value: "Primary",
              result: "",
              isOverridden: false,
            },
            {
              key: "AssetAligned",
              text: "Asset Aligned to Business Activity",
              value: "No",
              result: "FAIL",
              isOverridden: false,
            },
            {
              key: "TAV",
              text: "Total Value",
              value: "20000",
              valueType: "currency",
              result: "",
              isOverridden: false,
            },
          ],
        },
        {
          checkpoint: "Arrangement Check",
          outcome: "FAIL",
          section: "goals",
          criteriaList: [
            {
              key: "L1",
              text: "Assessment Type",
              value: "Low Doc",
              result: "",
              section: "loan",
              isOverridden: false,
            },
            {
              key: "L2",
              text: "Customer Strategy",
              value: "Standard",
              result: "",
              section: "loan",
              isOverridden: false,
            },
            {
              key: "L3",
              text: "Is Private Sale?",
              value: "Yes",
              result: "",
              section: "loan",
              isOverridden: false,
            },
            {
              key: "L4",
              text: "Deposit amount",
              value: "2000",
              valueType: "currency",
              result: "",
              section: "exposure",
              isOverridden: false,
            },
            {
              key: "depositRequired",
              text: "Deposit to reduce to low doc",
              value: "Yes",
              valueType: "dropdown",
              result: "PASS",
              section: "exposure",
              isOverridden: false,
            },
            {
              key: "L5",
              text: "Total financed amount",
              value: "20000",
              valueType: "currency",
              result: "",
              section: "exposure",
              isOverridden: false,
            },
            {
              key: "L6",
              text: "Current obligor exposure",
              value: "1250",
              valueType: "currency",
              result: "",
              section: "exposure",
              isOverridden: false,
            },
            {
              key: "L7",
              text: "Total obligor exposure",
              value: "20250",
              valueType: "currency",
              result: "FAIL",
              section: "exposure",
              isOverridden: false,
            },

            {
              key: "s1",
              text: "Number of adults in household",
              value: "2",
              valueType: "",
              result: "",
              section: "serviceability",
              isOverridden: false,
            },
            {
              key: "s2",
              text: "Number of dependents",
              value: "2",
              valueType: "",
              result: "",
              section: "serviceability",
              isOverridden: false,
            },
            {
              key: "s3",
              text: "Expected weekly repayment",
              value: "689",
              valueType: "currency",
              result: "",
              section: "serviceability",
              isOverridden: false,
            },
            {
              key: "s4",
              text: "Expected weekly income from work letter",
              value: "56557",
              valueType: "currency",
              result: "",
              section: "serviceability",
              isOverridden: false,
            },
            {
              key: "s5",
              text: "BrokerFlow document ID",
              value: "A312314",
              valueType: "",
              result: "",
              section: "serviceability",
              isOverridden: false,
            },
            {
              key: "existingCustomerPerf",
              text: "Existing customer performance",
              value: "No history",
              valueType: "dropdown",
              result: "PASS",
              section: "",
              isOverridden: false,
            },

            {
              key: "LVR",
              text: "Loan to Value Ratio",
              value: "73.67%",
              result: "PASS",
              section: "lvr",
              isOverridden: false,
            },

            {
              key: "DSCR",
              text: "DSCR",
              value: "20.02",
              valueType: "decimal",
              result: "PASS",
              section: "dcsr",
              isOverridden: false,
            },
          ],
        },
      ] as Checklist[],
    },
  ];

  reports = [
    {
      id: "CA01",
      report: {
        title: "CA01 - BEN'S BAKERY",
        qualifiers: {
          title: "Qualifiers",
          result: "PASS",
          applicant: {
            title: "Applicant",
            result: "PASS",

            header: {
              title: "Applicant",
              value: "Value",
              result: "Status",
            },
            data: [
              {
                text: "Legal name",
                value: "BEN'S BAKERY PTY LTD",
                result: "",
                verified: "ABR",
              },
              {
                text: "Industry",
                value: "Hospitality",
                result: "PASS",
                verified: "ANZSIC",
              },
              {
                text: "Guarantor's Credit Score",
                value: "510",
                result: "PASS",
                verified: "Equifax",
              },
              {
                text: "Key Contributing Factor",
                value: "No negative factors",
                result: "PASS",
                verified: "Equifax",
              },
              {
                text: "ABN Age",
                value: "5 years",
                result: "PASS",
                verified: "ABR",
              },
            ],
          },
          asset: {
            title: "Asset",
            result: "PASS",
            header: {
              title: "Asset",
              value: "",
              result: "",
            },
            data: [
              {
                text: "Asset type",
                value: "Motor Vehicle (up to 4.5t)",
                result: "PASS",
                verified: "",
              },
              {
                text: "Asset class",
                value: "Primary",
                result: "PASS",
                verified: "",
              },
            ],
          },
          arrangement: {
            title: "Arrangement",
            result: "PASS",
            header: {
              title: "Arrangement",
              value: "",
              result: "",
            },
            data: [
              {
                text: "Loan amount",
                value: "$12,000.00 ($115,000.00 credit remaining)",
                result: "PASS",
                verified: "",
              },
              {
                text: "Deposit amount",
                value: "$52,000.00 (20%)",
                result: "PASS",
                verified: "",
              },
              {
                text: "Balloon payment",
                value: "$5,000.00 (14%)",
                result: "PASS",
                verified: "",
              },
              {
                text: "Property backed",
                value: "Yes",
                result: "PASS",
                verified: "Equifax",
              },
              {
                text: "Asset age (SOT)",
                value: "1 year",
                result: "PASS",
                verified: "",
              },
              {
                text: "Asset age (EOT)",
                value: "6 years",
                result: "PASS",
                verified: "",
              },
              {
                text: "Loan to Value Ratio (LVR)",
                value: "80%",
                result: "PASS",
                verified: "RedBook",
              },
            ],
          },
        },
        riskRating: {
          title: "Risk Rating",
          result: "LOW RISK",
          header: {
            title: "Strategy",
            value: "LOW HIGH",
            result: "Status",
          },
          data: [
            {
              text: "Overall risk profile",
              value: 1,
              valueType: "range",
              result: "PASS",
              verified: "",
            },
            {
              text: "Financed asset risk",
              value: 1,
              valueType: "range",
              result: "PASS",
              verified: "",
              isChild: true,
            },
            {
              text: "Applicant risk",
              value: 1,
              valueType: "range",
              result: "PASS",
              verified: "",
              isChild: true,
            },
            {
              text: "Arrangement risk",
              value: 1,
              valueType: "range",
              result: "PASS",
              verified: "",
              isChild: true,
            },
            {
              text: "Assessment type",
              value: "LOW DOC",
              result: "PASS",
              verified: "LOS",
            },
            {
              text: "Customer strategy",
              value: "A+",
              result: "PASS",
              verified: "Internal",
            },
          ],
        },
        compliance: {
          title: "Compliance",
          result: "LOW RISK",
          header: {
            title: "Applicant",
            value: "Value",
            result: "Status",
          },
          data: [
            {
              text: "AML/KYC",
              value: "Pass",
              result: "PASS",
              verified: "CAM",
            },
            {
              text: "Fraud Check",
              value: "Pass",
              result: "PASS",
              verified: "CAM",
            },
            {
              text: "Politically Exposed Persons",
              value: "Pass",
              result: "PASS",
              verified: "CAM",
            },
            {
              text: "Sanctions",
              value: "Pass",
              result: "PASS",
              verified: "CAM",
            },
            {
              text: "Velocity",
              value: "Pass",
              result: "PASS",
              verified: "CAM",
            },
          ],
        },
        recommendation: {
          result: "APPROVE",
          details: "with no credit conditions",
        },
      },
    },
    {
      id: "CA02",
      report: {
        title: "CA02 - GULA PATISSERIE",
        qualifiers: {
          title: "Qualifiers",
          result: "FAIL",
          applicant: {
            title: "Applicant",
            result: "PASS",
            header: {
              title: "Applicant",
              value: "Value",
              result: "Status",
            },
            data: [
              {
                text: "Legal name",
                value: "GULA PATISSERIE PTY LTD",
                result: "",
                verified: "ABR",
              },
              {
                text: "Industry",
                value: "Agriculture",
                result: "PASS",
                verified: "ANZSIC",
              },
              {
                text: "Guarantor's Credit Score",
                value: "499",
                result: "FAIL",
                resultInfo:
                  "At least one obligors' credit score is below threshold.",
                verified: "Equifax",
              },
              {
                text: "Key Contributing Factor",
                value: "No negative factors",
                result: "PASS",
                verified: "Equifax",
              },
              {
                text: "ABN Age",
                value: "5 years",
                result: "PASS",
                verified: "ABR",
              },
            ],
          },
          asset: {
            title: "Asset",
            result: "PASS",
            header: {
              title: "Asset",
              value: "",
              result: "",
            },
            data: [
              {
                text: "Asset type",
                value: "Motor Vehicle (up to 4.5t)",
                result: "PASS",
                verified: "",
              },
              {
                text: "Asset class",
                value: "Primary",
                result: "PASS",
                verified: "",
              },
            ],
          },
          arrangement: {
            title: "Arrangement",
            result: "REVIEW",
            header: {
              title: "Arrangement",
              value: "",
              result: "",
            },
            data: [
              {
                text: "Loan amount",
                value: "$35,000.00 ($115,000.00 credit remaining)",
                result: "PASS",
                verified: "",
              },
              {
                text: "Deposit amount",
                value: "$5,250.00 (15%)",
                result: "FAIL",
                resultInfo: "Deposit < 20%",
                verified: "",
              },
              {
                text: "Balloon payment",
                value: "$5,000.00 (14%)",
                result: "PASS",
                verified: "",
              },
              {
                text: "Property backed",
                value: "No",
                result: "FAIL",
                resultInfo: "Not property backed",
                verified: "",
              },
              {
                text: "Asset age (SOT)",
                value: "1 year",
                result: "PASS",
                verified: "",
              },
              {
                text: "Asset age (EOT)",
                value: "6 years",
                result: "PASS",
                verified: "",
              },
              {
                text: "Loan to Value Ratio (LVR)",
                value: "125%",
                result: "FAIL",
                resultInfo: "LVR is > 120%",
                verified: "Redbook",
              },
            ],
          },
        },
        riskRating: {
          title: "Risk Rating",
          result: "MED RISK",
          header: {
            title: "Strategy",
            value: "LOW HIGH",
            result: "Status",
          },
          data: [
            {
              text: "Overall risk profile",
              value: 5,
              valueType: "range",
              result: "REVIEW",
              resultInfo:
                "High performance vehicle, Credit score < 500, Deposit < 20%, Not property backed",
              verified: "",
            },
            {
              text: "Financed asset risk",
              value: 3,
              valueType: "range",
              result: "REVIEW",
              resultInfo: "High performance vehicle",
              verified: "",
              isChild: true,
            },
            {
              text: "Applicant risk",
              value: 4,
              valueType: "range",
              result: "REVIEW",
              resultInfo: "Credit score < 500",
              verified: "",
              isChild: true,
            },
            {
              text: "Arrangement risk",
              value: 5,
              valueType: "range",
              result: "REVIEW",
              resultInfo: "Deposit < 20%, Not property backed",
              verified: "",
              isChild: true,
            },
            {
              text: "Assessment type",
              value: "HIGH DOC",
              result: "REVIEW",
              verified: "LOS",
            },
            {
              text: "Customer strategy",
              value: "D",
              result: "PASS",
              verified: "Internal",
            },
          ],
        },
        compliance: {
          title: "Compliance",
          result: "LOW RISK",
          header: {
            title: "Applicant",
            value: "Value",
            result: "Status",
          },
          data: [
            {
              text: "AML/KYC",
              value: "Pass",
              result: "PASS",
              verified: "CAM",
            },
            {
              text: "Fraud Check",
              value: "Pass",
              result: "PASS",
              verified: "CAM",
            },
            {
              text: "Politically Exposed Persons",
              value: "Pass",
              result: "PASS",
              verified: "CAM",
            },
            {
              text: "Sanctions",
              value: "Pass",
              result: "PASS",
              verified: "CAM",
            },
            {
              text: "Velocity",
              value: "Pass",
              result: "PASS",
              verified: "CAM",
            },
          ],
        },
        recommendation: {
          result: "REVIEW",
          details:
            "not property backed, deposit amount less than 20%, medium risk, LVR exceeds the threshold as the applicant is not property backed, with credit conditions",
        },
      },
    },
  ];

  tasks = [
    {
      id: "CA01",
      tasks: [],
    },
    {
      id: "CA02",
      tasks: [
        {
          id: newGuid(),
          title: "Upload doc",
          description: "Upload doc desc",
          status: TaskStatus.WorkingOnIt,
          assignedTo: "Klein Moretti",
          dateCreated: sub(new Date(), { days: 19 }),
          dueDate: add(new Date(), { days: 3 }),
          attachments: [
            {
              name: "medicare.pdf",
              dateUploaded: new Date(),
              type: "pdf",
            },
          ],
          taskType: TaskType.Internal,
        },
        {
          id: newGuid(),
          title: "Request bank statement",
          description: "Upload",
          status: TaskStatus.NotStarted,
          assignedTo: "Klein Moretti",
          dateCreated: sub(new Date(), { days: 9 }),
          dueDate: sub(new Date(), { days: 2 }),
          attachments: [
            {
              name: "medicare.pdf",
              dateUploaded: new Date(),
              type: "pdf",
            },
            {
              name: "passport.pdf",
              dateUploaded: new Date(),
              type: "pdf",
            },
          ],
          taskType: TaskType.Internal,
        },
        {
          id: newGuid(),
          title: "Confirm applicant address",
          description: "Upload",
          status: TaskStatus.Done,
          assignedTo: "Klein Moretti",
          dateCreated: sub(new Date(), { days: 2 }),
          dueDate: add(new Date(), { days: 7 }),
          attachments: [],
          taskType: TaskType.Internal,
        },
        {
          id: newGuid(),
          title: "Condition 1",
          description: "Condition 1",
          status: TaskStatus.Done,
          assignedTo: "Klein Moretti",
          dateCreated: sub(new Date(), { days: 9 }),
          dueDate: sub(new Date(), { days: 2 }),
          attachments: [],
          taskType: TaskType.CreditCondition,
          conditionMet: true,
        },
        {
          id: newGuid(),
          title: "Condition 2",
          description: "Condition 2",
          status: TaskStatus.WorkingOnIt,
          assignedTo: "Klein Moretti",
          dateCreated: new Date(),
          dueDate: add(new Date(), { days: 8 }),
          attachments: [],
          taskType: TaskType.CreditCondition,
          conditionMet: false,
        },
        {
          id: newGuid(),
          title: "Condition 3",
          description: "Condition 3",
          status: TaskStatus.WorkingOnIt,
          assignedTo: "Klein Moretti",
          dateCreated: new Date(),
          dueDate: add(new Date(), { days: 9 }),
          attachments: [],
          taskType: TaskType.CreditCondition,
          conditionMet: false,
        },
      ],
    },
  ];

  async getApplication(id: string): Promise<Application> {
    try {
      return this.applications.find(
        (application) => application.creditArrangementId === id
      )!;
    } catch (error) {
      console.error("Error fetching data:", error);
      throw error;
    }
  }

  async getChecklists(id: string): Promise<Checklist[]> {
    try {
      return this.checklists.find((c) => c.id === id)?.checklists || [];
    } catch (error) {
      console.error("Error fetching data:", error);
      throw error;
    }
  }

  async getReport(id: string): Promise<Report | null> {
    try {
      return this.reports.find((c) => c.id === id)?.report || null;
    } catch (error) {
      console.error("Error fetching data:", error);
      throw error;
    }
  }

  async getTasks(id: string): Promise<Task[]> {
    try {
      return this.tasks.find((c) => c.id === id)?.tasks || [];
    } catch (error) {
      console.error("Error fetching data:", error);
      throw error;
    }
  }
}
